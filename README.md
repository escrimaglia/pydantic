# How to create a Data Model using Pydantic

![plot](./Diagram/pydantic.png)
[Pydantic web page](https://docs.pydantic.dev/latest/)  
[Class Diagram](./Diagram/Class_diagram.png)

## Data Model

In the context of automation of infraestructure, a data model is a structured framework that defines how network or cloud devices and their configurations are represented and managed within automated systems. It organizes information about network elements such as routers, switches, and firewalls, including their settings and relationships. This model helps automate tasks like configuration changes, monitoring, and troubleshooting by providing a clear and consistent way to describe and interact with components. In short, a data model makes it easier to control and manage data infrastructure efficiently through automated processes.

## Using Pydantic in a Data Model

Languages ​​such as YANG, YAML (data serialization language) or JSON are used as different modeling techniques. In this case, I use the OOP paradigm to create the data model (pydantic class diagram) and YAML or JSON as the data serialization language.

In a data model, data types and constraints must be carefully well defined so that the data that feeds an automation process is correct. In these examples I show how to use Pydantic to create de Data Model and validate these restrictions.

## The domain problem (case definition)

As an example, I am going to use a simple case that shows how to create a data model of a process that allows the automation of configuration of network devices, specifically interfaces and vlans.

## Class Diagram

The class diagram is in the file Class_diagarm.png in the Diagram directory.

## The Code

data_model.py: it contains all the classes that make up the data model, as well as all the data types and constraints.

data_templates_ generation.py: the code uses a test data set to validate the created model and to generate the data templates (yaml and json) that will feed the automation process described above. Both files contain the minimal data structure that satisfy the Model and its restrictions (can be twicked to represent the real scenario, ie: add more items to a list).

data_template_validation.py: The code validates the data structures stored in the data templates (yaml or json) that feed the automation process described above.

The validation of data (data deserialization), is the starting point of any automation process.

## Data sets

data_test_model: data set to validate the Data Model during the model construction phase (case modeling).

## Data templates

Data templates generated by data_template_generation.py module that will feed the automation proccess. I personally use a yaml data template because it is more user friendly than json.

config.json  
config.yaml  

## Json Schema

Json Schema that can be used as an alternative to validate (data deserialization) the data template that feeds the automation process. Its also generated by data_template_generation.py

json_schema.json
